-- Auto-generated migration to create and seed periods table
-- Generated on 2025-09-03T11:44:52.980726Z
BEGIN;

-- 1. Create table
CREATE TABLE IF NOT EXISTS periods (
  id            SERIAL PRIMARY KEY,
  period_label  TEXT   NOT NULL UNIQUE,
  period_type   TEXT   NOT NULL,
  start_date    DATE   NOT NULL,
  end_date      DATE   NOT NULL,
  created_at    TIMESTAMP NOT NULL DEFAULT now(),
  updated_at    TIMESTAMP NOT NULL DEFAULT now()
);

-- 2. Seed table from periods.yaml
INSERT INTO periods (period_label, period_type, start_date, end_date) VALUES
  ('2015-01','Monthly','2015-01-01','2015-01-31'),
  ('2015-02','Monthly','2015-02-01','2015-02-28'),
  ('2015-03','Monthly','2015-03-01','2015-03-31'),
  ('2015-04','Monthly','2015-04-01','2015-04-30'),
  ('2015-05','Monthly','2015-05-01','2015-05-31'),
  ('2015-06','Monthly','2015-06-01','2015-06-30'),
  ('2015-07','Monthly','2015-07-01','2015-07-31'),
  ('2015-08','Monthly','2015-08-01','2015-08-31'),
  ('2015-09','Monthly','2015-09-01','2015-09-30'),
  ('2015-10','Monthly','2015-10-01','2015-10-31'),
  ('2015-11','Monthly','2015-11-01','2015-11-30'),
  ('2015-12','Monthly','2015-12-01','2015-12-31'),
  ('2016-01','Monthly','2016-01-01','2016-01-31'),
  ('2016-02','Monthly','2016-02-01','2016-02-29'),
  ('2016-03','Monthly','2016-03-01','2016-03-31'),
  ('2016-04','Monthly','2016-04-01','2016-04-30'),
  ('2016-05','Monthly','2016-05-01','2016-05-31'),
  ('2016-06','Monthly','2016-06-01','2016-06-30'),
  ('2016-07','Monthly','2016-07-01','2016-07-31'),
  ('2016-08','Monthly','2016-08-01','2016-08-31'),
  ('2016-09','Monthly','2016-09-01','2016-09-30'),
  ('2016-10','Monthly','2016-10-01','2016-10-31'),
  ('2016-11','Monthly','2016-11-01','2016-11-30'),
  ('2016-12','Monthly','2016-12-01','2016-12-31'),
  ('2017-01','Monthly','2017-01-01','2017-01-31'),
  ('2017-02','Monthly','2017-02-01','2017-02-28'),
  ('2017-03','Monthly','2017-03-01','2017-03-31'),
  ('2017-04','Monthly','2017-04-01','2017-04-30'),
  ('2017-05','Monthly','2017-05-01','2017-05-31'),
  ('2017-06','Monthly','2017-06-01','2017-06-30'),
  ('2017-07','Monthly','2017-07-01','2017-07-31'),
  ('2017-08','Monthly','2017-08-01','2017-08-31'),
  ('2017-09','Monthly','2017-09-01','2017-09-30'),
  ('2017-10','Monthly','2017-10-01','2017-10-31'),
  ('2017-11','Monthly','2017-11-01','2017-11-30'),
  ('2017-12','Monthly','2017-12-01','2017-12-31'),
  ('2018-01','Monthly','2018-01-01','2018-01-31'),
  ('2018-02','Monthly','2018-02-01','2018-02-28'),
  ('2018-03','Monthly','2018-03-01','2018-03-31'),
  ('2018-04','Monthly','2018-04-01','2018-04-30'),
  ('2018-05','Monthly','2018-05-01','2018-05-31'),
  ('2018-06','Monthly','2018-06-01','2018-06-30'),
  ('2018-07','Monthly','2018-07-01','2018-07-31'),
  ('2018-08','Monthly','2018-08-01','2018-08-31'),
  ('2018-09','Monthly','2018-09-01','2018-09-30'),
  ('2018-10','Monthly','2018-10-01','2018-10-31'),
  ('2018-11','Monthly','2018-11-01','2018-11-30'),
  ('2018-12','Monthly','2018-12-01','2018-12-31'),
  ('2019-01','Monthly','2019-01-01','2019-01-31'),
  ('2019-02','Monthly','2019-02-01','2019-02-28'),
  ('2019-03','Monthly','2019-03-01','2019-03-31'),
  ('2019-04','Monthly','2019-04-01','2019-04-30'),
  ('2019-05','Monthly','2019-05-01','2019-05-31'),
  ('2019-06','Monthly','2019-06-01','2019-06-30'),
  ('2019-07','Monthly','2019-07-01','2019-07-31'),
  ('2019-08','Monthly','2019-08-01','2019-08-31'),
  ('2019-09','Monthly','2019-09-01','2019-09-30'),
  ('2019-10','Monthly','2019-10-01','2019-10-31'),
  ('2019-11','Monthly','2019-11-01','2019-11-30'),
  ('2019-12','Monthly','2019-12-01','2019-12-31'),
  ('2020-01','Monthly','2020-01-01','2020-01-31'),
  ('2020-02','Monthly','2020-02-01','2020-02-29'),
  ('2020-03','Monthly','2020-03-01','2020-03-31'),
  ('2020-04','Monthly','2020-04-01','2020-04-30'),
  ('2020-05','Monthly','2020-05-01','2020-05-31'),
  ('2020-06','Monthly','2020-06-01','2020-06-30'),
  ('2020-07','Monthly','2020-07-01','2020-07-31'),
  ('2020-08','Monthly','2020-08-01','2020-08-31'),
  ('2020-09','Monthly','2020-09-01','2020-09-30'),
  ('2020-10','Monthly','2020-10-01','2020-10-31'),
  ('2020-11','Monthly','2020-11-01','2020-11-30'),
  ('2020-12','Monthly','2020-12-01','2020-12-31'),
  ('2021-01','Monthly','2021-01-01','2021-01-31'),
  ('2021-02','Monthly','2021-02-01','2021-02-28'),
  ('2021-03','Monthly','2021-03-01','2021-03-31'),
  ('2021-04','Monthly','2021-04-01','2021-04-30'),
  ('2021-05','Monthly','2021-05-01','2021-05-31'),
  ('2021-06','Monthly','2021-06-01','2021-06-30'),
  ('2021-07','Monthly','2021-07-01','2021-07-31'),
  ('2021-08','Monthly','2021-08-01','2021-08-31'),
  ('2021-09','Monthly','2021-09-01','2021-09-30'),
  ('2021-10','Monthly','2021-10-01','2021-10-31'),
  ('2021-11','Monthly','2021-11-01','2021-11-30'),
  ('2021-12','Monthly','2021-12-01','2021-12-31'),
  ('2022-01','Monthly','2022-01-01','2022-01-31'),
  ('2022-02','Monthly','2022-02-01','2022-02-28'),
  ('2022-03','Monthly','2022-03-01','2022-03-31'),
  ('2022-04','Monthly','2022-04-01','2022-04-30'),
  ('2022-05','Monthly','2022-05-01','2022-05-31'),
  ('2022-06','Monthly','2022-06-01','2022-06-30'),
  ('2022-07','Monthly','2022-07-01','2022-07-31'),
  ('2022-08','Monthly','2022-08-01','2022-08-31'),
  ('2022-09','Monthly','2022-09-01','2022-09-30'),
  ('2022-10','Monthly','2022-10-01','2022-10-31'),
  ('2022-11','Monthly','2022-11-01','2022-11-30'),
  ('2022-12','Monthly','2022-12-01','2022-12-31'),
  ('2023-01','Monthly','2023-01-01','2023-01-31'),
  ('2023-02','Monthly','2023-02-01','2023-02-28'),
  ('2023-03','Monthly','2023-03-01','2023-03-31'),
  ('2023-04','Monthly','2023-04-01','2023-04-30'),
  ('2023-05','Monthly','2023-05-01','2023-05-31'),
  ('2023-06','Monthly','2023-06-01','2023-06-30'),
  ('2023-07','Monthly','2023-07-01','2023-07-31'),
  ('2023-08','Monthly','2023-08-01','2023-08-31'),
  ('2023-09','Monthly','2023-09-01','2023-09-30'),
  ('2023-10','Monthly','2023-10-01','2023-10-31'),
  ('2023-11','Monthly','2023-11-01','2023-11-30'),
  ('2023-12','Monthly','2023-12-01','2023-12-31'),
  ('2024-01','Monthly','2024-01-01','2024-01-31'),
  ('2024-02','Monthly','2024-02-01','2024-02-29'),
  ('2024-03','Monthly','2024-03-01','2024-03-31'),
  ('2024-04','Monthly','2024-04-01','2024-04-30'),
  ('2024-05','Monthly','2024-05-01','2024-05-31'),
  ('2024-06','Monthly','2024-06-01','2024-06-30'),
  ('2024-07','Monthly','2024-07-01','2024-07-31'),
  ('2024-08','Monthly','2024-08-01','2024-08-31'),
  ('2024-09','Monthly','2024-09-01','2024-09-30'),
  ('2024-10','Monthly','2024-10-01','2024-10-31'),
  ('2024-11','Monthly','2024-11-01','2024-11-30'),
  ('2024-12','Monthly','2024-12-01','2024-12-31'),
  ('2025-01','Monthly','2025-01-01','2025-01-31'),
  ('2025-02','Monthly','2025-02-01','2025-02-28'),
  ('2025-03','Monthly','2025-03-01','2025-03-31'),
  ('2025-04','Monthly','2025-04-01','2025-04-30'),
  ('2025-05','Monthly','2025-05-01','2025-05-31'),
  ('2025-06','Monthly','2025-06-01','2025-06-30'),
  ('2025-07','Monthly','2025-07-01','2025-07-31'),
  ('2025-08','Monthly','2025-08-01','2025-08-31'),
  ('2025-09','Monthly','2025-09-01','2025-09-30'),
  ('2025-10','Monthly','2025-10-01','2025-10-31'),
  ('2025-11','Monthly','2025-11-01','2025-11-30'),
  ('2025-12','Monthly','2025-12-01','2025-12-31'),
  ('2026-01','Monthly','2026-01-01','2026-01-31'),
  ('2026-02','Monthly','2026-02-01','2026-02-28'),
  ('2026-03','Monthly','2026-03-01','2026-03-31'),
  ('2026-04','Monthly','2026-04-01','2026-04-30'),
  ('2026-05','Monthly','2026-05-01','2026-05-31'),
  ('2026-06','Monthly','2026-06-01','2026-06-30'),
  ('2026-07','Monthly','2026-07-01','2026-07-31'),
  ('2026-08','Monthly','2026-08-01','2026-08-31'),
  ('2026-09','Monthly','2026-09-01','2026-09-30'),
  ('2026-10','Monthly','2026-10-01','2026-10-31'),
  ('2026-11','Monthly','2026-11-01','2026-11-30'),
  ('2026-12','Monthly','2026-12-01','2026-12-31'),
  ('2027-01','Monthly','2027-01-01','2027-01-31'),
  ('2027-02','Monthly','2027-02-01','2027-02-28'),
  ('2027-03','Monthly','2027-03-01','2027-03-31'),
  ('2027-04','Monthly','2027-04-01','2027-04-30'),
  ('2027-05','Monthly','2027-05-01','2027-05-31'),
  ('2027-06','Monthly','2027-06-01','2027-06-30'),
  ('2027-07','Monthly','2027-07-01','2027-07-31'),
  ('2027-08','Monthly','2027-08-01','2027-08-31'),
  ('2027-09','Monthly','2027-09-01','2027-09-30'),
  ('2027-10','Monthly','2027-10-01','2027-10-31'),
  ('2027-11','Monthly','2027-11-01','2027-11-30'),
  ('2027-12','Monthly','2027-12-01','2027-12-31'),
  ('2028-01','Monthly','2028-01-01','2028-01-31'),
  ('2028-02','Monthly','2028-02-01','2028-02-29'),
  ('2028-03','Monthly','2028-03-01','2028-03-31'),
  ('2028-04','Monthly','2028-04-01','2028-04-30'),
  ('2028-05','Monthly','2028-05-01','2028-05-31'),
  ('2028-06','Monthly','2028-06-01','2028-06-30'),
  ('2028-07','Monthly','2028-07-01','2028-07-31'),
  ('2028-08','Monthly','2028-08-01','2028-08-31'),
  ('2028-09','Monthly','2028-09-01','2028-09-30'),
  ('2028-10','Monthly','2028-10-01','2028-10-31'),
  ('2028-11','Monthly','2028-11-01','2028-11-30'),
  ('2028-12','Monthly','2028-12-01','2028-12-31'),
  ('2029-01','Monthly','2029-01-01','2029-01-31'),
  ('2029-02','Monthly','2029-02-01','2029-02-28'),
  ('2029-03','Monthly','2029-03-01','2029-03-31'),
  ('2029-04','Monthly','2029-04-01','2029-04-30'),
  ('2029-05','Monthly','2029-05-01','2029-05-31'),
  ('2029-06','Monthly','2029-06-01','2029-06-30'),
  ('2029-07','Monthly','2029-07-01','2029-07-31'),
  ('2029-08','Monthly','2029-08-01','2029-08-31'),
  ('2029-09','Monthly','2029-09-01','2029-09-30'),
  ('2029-10','Monthly','2029-10-01','2029-10-31'),
  ('2029-11','Monthly','2029-11-01','2029-11-30'),
  ('2029-12','Monthly','2029-12-01','2029-12-31'),
  ('2030-01','Monthly','2030-01-01','2030-01-31'),
  ('2030-02','Monthly','2030-02-01','2030-02-28'),
  ('2030-03','Monthly','2030-03-01','2030-03-31'),
  ('2030-04','Monthly','2030-04-01','2030-04-30'),
  ('2030-05','Monthly','2030-05-01','2030-05-31'),
  ('2030-06','Monthly','2030-06-01','2030-06-30'),
  ('2030-07','Monthly','2030-07-01','2030-07-31'),
  ('2030-08','Monthly','2030-08-01','2030-08-31'),
  ('2030-09','Monthly','2030-09-01','2030-09-30'),
  ('2030-10','Monthly','2030-10-01','2030-10-31'),
  ('2030-11','Monthly','2030-11-01','2030-11-30'),
  ('2030-12','Monthly','2030-12-01','2030-12-31'),
  ('2015-Q1','Quarterly','2015-01-01','2015-03-31'),
  ('2015-Q2','Quarterly','2015-04-01','2015-06-30'),
  ('2015-Q3','Quarterly','2015-07-01','2015-09-30'),
  ('2015-Q4','Quarterly','2015-10-01','2015-12-31'),
  ('2016-Q1','Quarterly','2016-01-01','2016-03-31'),
  ('2016-Q2','Quarterly','2016-04-01','2016-06-30'),
  ('2016-Q3','Quarterly','2016-07-01','2016-09-30'),
  ('2016-Q4','Quarterly','2016-10-01','2016-12-31'),
  ('2017-Q1','Quarterly','2017-01-01','2017-03-31'),
  ('2017-Q2','Quarterly','2017-04-01','2017-06-30'),
  ('2017-Q3','Quarterly','2017-07-01','2017-09-30'),
  ('2017-Q4','Quarterly','2017-10-01','2017-12-31'),
  ('2018-Q1','Quarterly','2018-01-01','2018-03-31'),
  ('2018-Q2','Quarterly','2018-04-01','2018-06-30'),
  ('2018-Q3','Quarterly','2018-07-01','2018-09-30'),
  ('2018-Q4','Quarterly','2018-10-01','2018-12-31'),
  ('2019-Q1','Quarterly','2019-01-01','2019-03-31'),
  ('2019-Q2','Quarterly','2019-04-01','2019-06-30'),
  ('2019-Q3','Quarterly','2019-07-01','2019-09-30'),
  ('2019-Q4','Quarterly','2019-10-01','2019-12-31'),
  ('2020-Q1','Quarterly','2020-01-01','2020-03-31'),
  ('2020-Q2','Quarterly','2020-04-01','2020-06-30'),
  ('2020-Q3','Quarterly','2020-07-01','2020-09-30'),
  ('2020-Q4','Quarterly','2020-10-01','2020-12-31'),
  ('2021-Q1','Quarterly','2021-01-01','2021-03-31'),
  ('2021-Q2','Quarterly','2021-04-01','2021-06-30'),
  ('2021-Q3','Quarterly','2021-07-01','2021-09-30'),
  ('2021-Q4','Quarterly','2021-10-01','2021-12-31'),
  ('2022-Q1','Quarterly','2022-01-01','2022-03-31'),
  ('2022-Q2','Quarterly','2022-04-01','2022-06-30'),
  ('2022-Q3','Quarterly','2022-07-01','2022-09-30'),
  ('2022-Q4','Quarterly','2022-10-01','2022-12-31'),
  ('2023-Q1','Quarterly','2023-01-01','2023-03-31'),
  ('2023-Q2','Quarterly','2023-04-01','2023-06-30'),
  ('2023-Q3','Quarterly','2023-07-01','2023-09-30'),
  ('2023-Q4','Quarterly','2023-10-01','2023-12-31'),
  ('2024-Q1','Quarterly','2024-01-01','2024-03-31'),
  ('2024-Q2','Quarterly','2024-04-01','2024-06-30'),
  ('2024-Q3','Quarterly','2024-07-01','2024-09-30'),
  ('2024-Q4','Quarterly','2024-10-01','2024-12-31'),
  ('2025-Q1','Quarterly','2025-01-01','2025-03-31'),
  ('2025-Q2','Quarterly','2025-04-01','2025-06-30'),
  ('2025-Q3','Quarterly','2025-07-01','2025-09-30'),
  ('2025-Q4','Quarterly','2025-10-01','2025-12-31'),
  ('2026-Q1','Quarterly','2026-01-01','2026-03-31'),
  ('2026-Q2','Quarterly','2026-04-01','2026-06-30'),
  ('2026-Q3','Quarterly','2026-07-01','2026-09-30'),
  ('2026-Q4','Quarterly','2026-10-01','2026-12-31'),
  ('2027-Q1','Quarterly','2027-01-01','2027-03-31'),
  ('2027-Q2','Quarterly','2027-04-01','2027-06-30'),
  ('2027-Q3','Quarterly','2027-07-01','2027-09-30'),
  ('2027-Q4','Quarterly','2027-10-01','2027-12-31'),
  ('2028-Q1','Quarterly','2028-01-01','2028-03-31'),
  ('2028-Q2','Quarterly','2028-04-01','2028-06-30'),
  ('2028-Q3','Quarterly','2028-07-01','2028-09-30'),
  ('2028-Q4','Quarterly','2028-10-01','2028-12-31'),
  ('2029-Q1','Quarterly','2029-01-01','2029-03-31'),
  ('2029-Q2','Quarterly','2029-04-01','2029-06-30'),
  ('2029-Q3','Quarterly','2029-07-01','2029-09-30'),
  ('2029-Q4','Quarterly','2029-10-01','2029-12-31'),
  ('2030-Q1','Quarterly','2030-01-01','2030-03-31'),
  ('2030-Q2','Quarterly','2030-04-01','2030-06-30'),
  ('2030-Q3','Quarterly','2030-07-01','2030-09-30'),
  ('2030-Q4','Quarterly','2030-10-01','2030-12-31'),
  ('2015','Yearly','2015-01-01','2015-12-31'),
  ('2016','Yearly','2016-01-01','2016-12-31'),
  ('2017','Yearly','2017-01-01','2017-12-31'),
  ('2018','Yearly','2018-01-01','2018-12-31'),
  ('2019','Yearly','2019-01-01','2019-12-31'),
  ('2020','Yearly','2020-01-01','2020-12-31'),
  ('2021','Yearly','2021-01-01','2021-12-31'),
  ('2022','Yearly','2022-01-01','2022-12-31'),
  ('2023','Yearly','2023-01-01','2023-12-31'),
  ('2024','Yearly','2024-01-01','2024-12-31'),
  ('2025','Yearly','2025-01-01','2025-12-31'),
  ('2026','Yearly','2026-01-01','2026-12-31'),
  ('2027','Yearly','2027-01-01','2027-12-31'),
  ('2028','Yearly','2028-01-01','2028-12-31'),
  ('2029','Yearly','2029-01-01','2029-12-31'),
  ('2030','Yearly','2030-01-01','2030-12-31') ON CONFLICT (period_label) DO NOTHING;

COMMIT;