# Merged config/fields.yaml - Preserves original structure/sql_type/line_items while adding enhancements

fields:
  company_id:
    id: 10001
    sql_type: INT
    synonyms:
      - company_id
      - companyid
      - company
      - co_id
      - coid
      - entity_id
      - org_id
      - orgid
      - ticker
    description: Unique company integer identifier for each entity
    data_type: "NUMERIC"  # Added from enhanced
    category: "entity"    # Added for clarity
    required: true        # Added from enhanced

  company_name:
    id: 10002
    sql_type: TEXT
    synonyms:
      - company_name
      - companyname
      - name
      - co_name
      - org_name
      - organization
      - firm
    description: Name of the reporting company used for lookup and join
    data_type: "TEXT"     # Added
    category: "entity"
    required: true

  line_item:
    id: 10003
    sql_type: TEXT
    synonyms:
      - line_item
      - lineitem
      - item
      - metric
      - line item
      - financial_item
      - Metric Name
    description: Financial metric or line item name to be mapped to id via line_item_definitions
    data_type: "TEXT"
    category: "metric"
    required: true

  line_item_id:
    id: 10020
    sql_type: INT
    synonyms:
      - line_item_id
      - lineitemid
    description: Foreign key reference to line_item_definitions
    data_type: "NUMERIC"
    category: "metric"
    required: false

  period_label:
    id: 10004
    sql_type: TEXT
    synonyms:
      - period_label
      - periodlabel
      - period
      - date
      - report_date
      - as_of
      - fiscal_period
      - time
      - time_period
      - month
      - quarter
      - year
      - reporting_period
      - rpt_period
    description: Human-readable period label used for parsing and joining to periods table
    data_type: "TEXT"
    category: "period"
    required: true

  period_type:
    id: 10005
    sql_type: TEXT
    synonyms:
      - period_type
      - periodtype
      - frequency
      - freq
      - type
      - granularity
      - rpt_type
      - rpt_frequency
    description: Describes period granularity such as Monthly Quarterly or Yearly
    data_type: "TEXT"
    category: "period"
    required: false

  period_id:
    id: 10021
    sql_type: INT
    synonyms:
      - period_id
      - periodid
    description: Foreign key reference to periods table
    data_type: "NUMERIC"
    category: "period"
    required: false

  start_date:
    id: 10006
    sql_type: DATE
    synonyms:
      - start_date
      - from_date
      - begin_date
      - effective_date
    description: Start date for period in YYYY-MM-DD format
    data_type: "DATE"
    category: "period"
    required: false

  end_date:
    id: 10007
    sql_type: DATE
    synonyms:
      - end_date
      - to_date
      - finish_date
      - expiry_date
    description: End date for period in YYYY-MM-DD format
    data_type: "DATE"
    category: "period"
    required: false

  value:
    id: 10008
    sql_type: NUMERIC
    synonyms:
      - value
      - amount
      - val
      - figure
      - reported_value
      - actual_value
      - budget_value
      - total
      - numeric_value
      - amt
      - Amount
      - Number
      - Figure
    description: Numeric value for metric
    data_type: "NUMERIC"
    category: "value"
    required: true

  value_type:
    id: 10009
    sql_type: TEXT
    synonyms:
      - value_type
      - valuetype
      - scenario
      - scenario_type
      - basis
      - plan
      - actual
      - budget
      - forecast
      - projected
      - prior
      - variance
    description: Nature of value such as Actual Budget Forecast etc
    data_type: "TEXT"
    category: "value"
    required: false

  frequency:
    id: 10010
    sql_type: TEXT
    synonyms:
      - frequency
      - freq
      - reporting_cycle
      - rpt_cycle
    description: Reporting frequency
    data_type: "TEXT"
    category: "period"
    required: false

  currency:
    id: 10011
    sql_type: TEXT
    synonyms:
      - currency
      - curr
      - ccy
      - iso_currency
      - currency_code
      - fx
    description: Currency code such as USD EUR etc
    data_type: "TEXT"
    category: "value"
    required: false

  source_file:
    id: 10012
    sql_type: TEXT
    synonyms:
      - source_file
      - file
      - filename
      - datafile
      - file_path
    description: Filename where data originates
    data_type: "TEXT"
    category: "source"
    required: false

  source_page:
    id: 10013
    sql_type: INT
    synonyms:
      - source_page
      - page
      - page_number
      - pageno
      - page_num
    description: Page number within source file
    data_type: "NUMERIC"
    category: "source"
    required: false

  source_type:
    id: 10014
    sql_type: TEXT
    synonyms:
      - source_type
      - ingestion_type
    description: Type of source content Raw or Aggregated
    data_type: "TEXT"
    category: "source"
    required: false

  notes:
    id: 10015
    sql_type: TEXT
    synonyms:
      - notes
      - note
      - comments
      - description
      - remark
      - explanation
      - footnote
    description: Free-form notes comments or annotations
    data_type: "TEXT"
    category: "metadata"
    required: false

  hash:
    id: 10016
    sql_type: TEXT
    synonyms:
      - hash
    description: Hashed metric identity for deduplication
    data_type: "TEXT"
    category: "metadata"
    required: false

line_items:
  - id: 11001
    name: Revenue
    aliases:
      - revenue     # Expanded from enhanced
      - sales
      - income
      - turnover
      - total revenue
      - total_revenue
      - net sales
      - top line
      - sales revenue
      - rev         # Preserved original
      - group revenue
    description: Total revenue from operations

  - id: 11002
    name: Gross Profit
    aliases:
      - gross profit
      - gross_profit
      - gross income
      - gross margin
      - gm
      - gross earnings
      - grossincome  # Preserved original
    description: Revenue minus cost of goods sold

  - id: 11003
    name: EBITDA
    aliases:
      - ebitda
      - EBITDA
      - Ebitda
      - earnings before interest
      - earnings_before_interest
      - earnings before taxes
      - operating profit
      - earnings before interest taxes
      - earnings_before_taxes
      - group ebitda
    description: Earnings before interest taxes depreciation amortization

  - id: 11004
    name: Operating Profit
    aliases:
      - operating profit
      - operating_profit
      - op profit
      - operating income
      - operating_income
      - ebit
      - EBIT
    description: Profit from operations (EBIT)

  - id: 11005
    name: Net Profit
    aliases:
      - net profit
      - net_profit
      - profit after tax
      - profit_after_tax
      - net income
      - net_income
      - pat
    description: Profit after tax

  - id: 11006
    name: Cash Balance
    aliases:
      - cash
      - cash balance
      - cash_balance
      - cash at bank
      - cash_at_bank
      - cash and cash equivalents
      - cash_equivalents
      - closing cash
      - opening cash
      - cash held on account
      - cash held on accounts
      - group cash position
    description: Cash and cash equivalents (sometimes split as opening/closing cash)

  - id: 11007
    name: Net Debt
    aliases:
      - net debt
      - net_debt
      - total debt
      - total_debt
      - debt
      - borrowings
      - bank debt
    description: Net debt (debt less cash)

  - id: 11008
    name: Operating Cash Flow
    aliases:
      - operating cash flow
      - operating_cash_flow
      - cash from operations
      - cash_from_operations
      - cash generated from operations
    description: Cash generated from operations

  - id: 11009
    name: Free Cash Flow
    aliases:
      - free cash flow
      - free_cash_flow
      - fcf
      - FCF
    description: Free cash flow

  - id: 11010
    name: Working Capital
    aliases:
      - working capital
      - working_capital
      - net working capital
      - net_working_capital
      - nwb
    description: Working capital

  - id: 11011
    name: Accounts Receivable
    aliases:
      - accounts receivable
      - accounts_receivable
      - trade receivables
      - trade_receivables
      - debtors
    description: Trade receivables

  - id: 11012
    name: Accounts Payable
    aliases:
      - accounts payable
      - accounts_payable
      - trade payables
      - trade_payables
      - creditors
    description: Trade payables

  - id: 11013
    name: Capital Expenditure
    aliases:
      - capex
      - Capex
      - capital expenditure
      - capital_expenditure
      - capital spend
    description: Capital expenditure

  - id: 11014
    name: Start-up Costs
    aliases:
      - startup costs
      - start-up costs
      - start up costs
      - startup_costs
      - start_up_costs
      - pre-opening costs
      - pre opening costs
      - startup losses
      - start-up losses
      - startup loss
      - start-up loss
      - startup losses (add back)
      - start-up losses (add back)
    description: Start-up / pre-opening costs (sometimes presented as start-up losses)

  - id: 11015
    name: Number of Sites
    aliases:
      - number of sites
      - sites
      - site count
      - site_count
      - locations
      - number of locations
      - pre-launch sites
      - pre-lounch sites
      - central site
      - hove sites
    description: Count of sites/locations

  - id: 11016
    name: Group Profit (excl Start-up Costs)
    aliases:
      - group profit excl start-up costs
      - group profit excluding start-up costs
      - profit excl start-up
      - profit excluding startup costs
      - profit excl startup costs
    description: Profit excluding start-up costs (company-specific definition)

  - id: 11017
    name: EBITDA (excl Start-up Costs)
    aliases:
      - ebitda excl start-up costs
      - ebitda excluding start-up costs
      - ebitda excl startup costs
      - ebitda excluding startup costs
      - adjusted ebitda
      - group ebitda (excl startup losses)
      - group ebitda (excl startup losses)
      - group ebitda (post startup losses)
      - ebitda (excl startup losses)
      - ebitda excl startup losses
      - ebitda excluding startup losses
      - site ebitda (excl startup losses)
      - site ebitda (excl startup losses)
      - group ebitda (excl startup losses)
    description: EBITDA excluding start-up costs / start-up losses (adjusted)
