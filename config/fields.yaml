# Merged config/fields.yaml - Preserves original structure/sql_type/line_items while adding enhancements

fields:
  company_id:
    id: 10001
    sql_type: INT
    synonyms:
      - company_id
      - companyid
      - company
      - co_id
      - coid
      - entity_id
      - org_id
      - orgid
      - ticker
    description: Unique company integer identifier for each entity
    data_type: "NUMERIC"  # Added from enhanced
    category: "entity"    # Added for clarity
    required: true        # Added from enhanced

  company_name:
    id: 10002
    sql_type: TEXT
    synonyms:
      - company_name
      - companyname
      - name
      - co_name
      - org_name
      - organization
      - firm
    description: Name of the reporting company used for lookup and join
    data_type: "TEXT"     # Added
    category: "entity"
    required: true

  line_item:
    id: 10003
    sql_type: TEXT
    synonyms:
      - line_item
      - lineitem
      - item
      - metric
      - line item
      - financial_item
      - Metric Name
    description: Financial metric or line item name to be mapped to id via line_item_definitions
    data_type: "TEXT"
    category: "metric"
    required: true

  line_item_id:
    id: 10020
    sql_type: INT
    synonyms:
      - line_item_id
      - lineitemid
    description: Foreign key reference to line_item_definitions
    data_type: "NUMERIC"
    category: "metric"
    required: true

  period_label:
    id: 10004
    sql_type: TEXT
    synonyms:
      - period_label
      - periodlabel
      - period
      - date
      - report_date
      - as_of
      - fiscal_period
      - time
      - time_period
      - month
      - quarter
      - year
      - reporting_period
      - rpt_period
    description: Human-readable period label used for parsing and joining to periods table
    data_type: "TEXT"
    category: "period"
    required: true

  period_type:
    id: 10005
    sql_type: TEXT
    synonyms:
      - period_type
      - periodtype
      - frequency
      - freq
      - type
      - granularity
      - rpt_type
      - rpt_frequency
    description: Describes period granularity such as Monthly Quarterly or Yearly
    data_type: "TEXT"
    category: "period"
    required: false

  period_id:
    id: 10021
    sql_type: INT
    synonyms:
      - period_id
      - periodid
    description: Foreign key reference to periods table
    data_type: "NUMERIC"
    category: "period"
    required: true

  start_date:
    id: 10006
    sql_type: DATE
    synonyms:
      - start_date
      - from_date
      - begin_date
      - effective_date
    description: Start date for period in YYYY-MM-DD format
    data_type: "DATE"
    category: "period"
    required: false

  end_date:
    id: 10007
    sql_type: DATE
    synonyms:
      - end_date
      - to_date
      - finish_date
      - expiry_date
    description: End date for period in YYYY-MM-DD format
    data_type: "DATE"
    category: "period"
    required: false

  value:
    id: 10008
    sql_type: NUMERIC
    synonyms:
      - value
      - amount
      - val
      - figure
      - reported_value
      - actual_value
      - budget_value
      - total
      - numeric_value
      - amt
      - Amount
      - Number
      - Figure
    description: Numeric value for metric
    data_type: "NUMERIC"
    category: "value"
    required: true

  value_type:
    id: 10009
    sql_type: TEXT
    synonyms:
      - value_type
      - valuetype
      - scenario
      - scenario_type
      - basis
      - plan
      - actual
      - budget
      - forecast
      - projected
      - prior
      - variance
    description: Nature of value such as Actual Budget Forecast etc
    data_type: "TEXT"
    category: "value"
    required: false

  frequency:
    id: 10010
    sql_type: TEXT
    synonyms:
      - frequency
      - freq
      - reporting_cycle
      - rpt_cycle
    description: Reporting frequency
    data_type: "TEXT"
    category: "period"
    required: false

  currency:
    id: 10011
    sql_type: TEXT
    synonyms:
      - currency
      - curr
      - ccy
      - iso_currency
      - currency_code
      - fx
    description: Currency code such as USD EUR etc
    data_type: "TEXT"
    category: "value"
    required: false

  source_file:
    id: 10012
    sql_type: TEXT
    synonyms:
      - source_file
      - file
      - filename
      - datafile
      - file_path
    description: Filename where data originates
    data_type: "TEXT"
    category: "source"
    required: false

  source_page:
    id: 10013
    sql_type: INT
    synonyms:
      - source_page
      - page
      - page_number
      - pageno
      - page_num
    description: Page number within source file
    data_type: "NUMERIC"
    category: "source"
    required: false

  source_type:
    id: 10014
    sql_type: TEXT
    synonyms:
      - source_type
      - ingestion_type
    description: Type of source content Raw or Aggregated
    data_type: "TEXT"
    category: "source"
    required: false

  notes:
    id: 10015
    sql_type: TEXT
    synonyms:
      - notes
      - note
      - comments
      - description
      - remark
      - explanation
      - footnote
    description: Free-form notes comments or annotations
    data_type: "TEXT"
    category: "metadata"
    required: false

  hash:
    id: 10016
    sql_type: TEXT
    synonyms:
      - hash
    description: Hashed metric identity for deduplication
    data_type: "TEXT"
    category: "metadata"
    required: false

line_items:
  - id: 11001
    name: Revenue
    aliases:
      - revenue     # Expanded from enhanced
      - sales
      - income
      - turnover
      - total revenue
      - total_revenue
      - net sales
      - top line
      - sales revenue
      - rev         # Preserved original
    description: Total revenue from operations

  - id: 11002
    name: Gross Profit
    aliases:
      - gross profit
      - gross_profit
      - gross income
      - gross margin
      - gm
      - gross earnings
      - grossincome  # Preserved original
    description: Revenue minus cost of goods sold

  - id: 11003
    name: EBITDA
    aliases:
      - ebitda
      - earnings before interest
      - earnings_before_interest
      - earnings before taxes
      - operating profit
      - earnings before interest taxes
      - earnings_before_interest_taxes  # Preserved original
      - earnings_before_taxes
    description: Earnings before interest taxes depreciation amortization

# Added sections from enhanced - for improved ingestion without breaking SQL gen
date_formats:
  - "%Y-%m-%d"
  - "%m/%d/%Y"
  - "%d-%m-%Y" 
  - "%Y/%m/%d"
  - "%b %Y"        # Feb 2025
  - "%B %Y"        # February 2025
  - "Q%s %Y"       # Q1 2025

period_types:
  - "Monthly"
  - "Quarterly" 
  - "Yearly"
  - "YTD"

auto_create_periods:
  enabled: true
  default_type: "Monthly"
  fiscal_year_end: "12-31"  # December 31st